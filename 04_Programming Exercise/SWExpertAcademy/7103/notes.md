Using 4-layer loop, exceeding time limit due to high time complexity.